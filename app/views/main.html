<!-- Main jumbotron for a primary marketing message or call to action -->
<div class="jumbotron">
  <div class="container">    
    
    <div class="panel panel-primary" >
      <div class="panel-heading" ng-click='dataSourcesCollapsed = !dataSourcesCollapsed'>
        <h3 class="panel-title">Data Sources</h3>
      </div>
      <div class="panel-body" collapse="dataSourcesCollapsed">
        <div class="row">
          <div class="col-md-6" ng-repeat='datasource in datasources'>
            <div class="input-group">
              <span class="input-group-addon">
                <input type="checkbox" ng-model="selectedDataSourcesMap[datasource]">
              </span>
              <span type="text" class="form-control" text-overflow> {{datasource}} </span>
            </div><!-- /input-group -->
          </div>
        </div>
        <button class="btn btn-default" ng-click="selectDatasources()">NEXT!</button>
      </div>
    </div>

    <div class="panel panel-primary" >
      <div class="panel-heading" ng-click='devicesCollapsed = !devicesCollapsed'>
        <h3 class="panel-title">Devices</h3>
      </div>
      <div class="panel-body" collapse="devicesCollapsed">
        <div class="row">
          <div class="col-md-6" ng-repeat='datasource in selectedDataSources' >
            <div class="input-group">
              <span type="text" class="form-control" text-overflow> {{datasource}} </span>
            </div>
            <div ng-repeat='device in devicesByDatasource[datasource]'>
              <div class="input-group">
                <span class="input-group-addon">
                  <input type="checkbox" ng-model="selectedDevicesByDatasource[datasource][device.id]">
                </span>
                <span type="text" class="form-control" text-overflow> {{device.title + ' - ' + device.id}} </span>
              </div>
            </div>
          </div>
          <button class="btn btn-default" ng-click="showSelectedDevices()">Chart me!</button>
        </div>
      </div>
    </div>
 
  <!--
  Charts
  -->
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h3 class="panel-title">Charts</h3>
      </div>
      <div class="panel-body">
        <div class="row">
          <div ng-repeat="url in urls">
            <img ng-src="{{url}}" />
          </div>
          <div ng-repeat="datastream in chartDatastreams">
              <div>{{datastream.label}}</div>
              <br />
              <div class="col-md-8" id="graph-{{datastream.id}}"></div>
              <div class="col-md-4" id="legend-{{datastream.id}}"></div>
              <br />
              <div class="col-md-8" id="slider-{{datastream.id}}"></div>
              <br />
          </div>
        </div>
      </div>
    </div>
  </div>

</div>